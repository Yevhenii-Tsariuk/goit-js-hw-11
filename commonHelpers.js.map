{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchPhoto(query) {\n     const API_KEY = '44790936-a9a83b9ad64ff44b33786cafe';\n     return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then(\n       (response) => {\n         if (!response.ok) {\n           throw new Error(response.status);\n         }\n         return response.json();\n       }\n     );\n   }","export function createPhotoCard(arr) {\n     return arr\n       .map(\n         ({\n           webformatURL,\n           largeImageURL,\n           tags,\n           likes,\n           views,\n           comments,\n           downloads,\n         }) => `\n       <li class=\"gallery-item\">\n         <a class=\"gallery-link\" href=\"${largeImageURL}\" onclick=\"event.preventDefault()\">\n           <img\n             class=\"gallery-image\"\n             src=\"${webformatURL}\"\n             alt=\"${tags}\"\n             width=\"360\"\n             height=\"200\"\n           />\n           <ul class=\"gallery-info\">\n             <li  class=\"gallery-item-text\">\n             <h3 class=\"gallery-subtitle\">Likes</h3>\n             <p class =\"gallery-text\">${likes}</p></li>\n \n             <li class=\"gallery-item-text\">\n             <h3 class=\"gallery-subtitle\">Views</h3>\n             <p class =\"gallery-text\">${views}</p></li>\n \n             <li class=\"gallery-item-text\">\n             <h3 class=\"gallery-subtitle\">Comments</h3>\n             <p class =\"gallery-text\">${comments}</p></li>\n \n             <li  class=\"gallery-item-text\">\n             <h3 class=\"gallery-subtitle\">Downloads</h3>\n             <p class =\"gallery-text\">${downloads}</p></li>\n \n           </ul>\n         </a>\n       </li>`\n       )\n       .join('');\n   }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {searchPhoto} from './js/pixabay-api';\nimport {createPhotoCard} from './js/render-functions'\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const searchForm = document.querySelector('.search-form');\n  const gallery = document.querySelector(\".gallery\");\n  const loader = document.querySelector('.loader');\n\n  if (!gallery) {\n    console.error('Gallery element not found');\n    return;\n  }\n\n  \n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  searchForm.addEventListener('submit', handleSearch);\n\n  function handleSearch(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const queryValue = form.elements.query.value.toLowerCase().trim();\n\n    showLoader();\n\n    searchPhoto(queryValue)\n      .then((response) => {\n        clearGallery();\n        if (response.hits.length === 0) {\n          iziToast.warning({\n            position: 'center',\n            messageSize: '16',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#EF4040',\n            messageColor: '#FAFAFB',\n            maxWidth: 450\n          });\n        } else {\n          addImagesToGallery(response.hits);\n          lightbox.refresh();\n        }\n      })\n      .catch(err => {\n        iziToast.error({\n          position: 'center',\n          messageSize: '16',\n          messageLineHeight: '150%',\n          title: 'Error',\n          message: `Something went wrong: ${err.message}`,\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n        });\n      })\n      .finally(() => {\n        form.reset();\n        hideLoader(); \n      });\n  }\n\n  function showLoader() {\n    loader.classList.add('visible');\n  }\n\n  function hideLoader() {\n    loader.classList.remove('visible');\n  }\n\n  function clearGallery() {\n    gallery.innerHTML = '';\n  }\n\n  function addImagesToGallery(images) {\n    const markup = createPhotoCard(images);\n    gallery.insertAdjacentHTML(\"afterbegin\", markup);\n  }\n\n  \n});\n"],"names":["searchPhoto","query","response","createPhotoCard","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","gallery","loader","lightbox","SimpleLightbox","handleSearch","event","form","queryValue","showLoader","clearGallery","iziToast","addImagesToGallery","err","hideLoader","images","markup"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAE9B,OAAO,MAAM,qEAA6CA,CAAK,0DAA0D,EAAE,KACxHC,GAAa,CACZ,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACR,CACA,CCVO,SAASC,EAAgBC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACX,IAAe;AAAA;AAAA,yCAE0BL,CAAa;AAAA;AAAA;AAAA,oBAGlCD,CAAY;AAAA,oBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAOgBC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,aAKzC,EACA,KAAK,EAAE,CACf,CCnCA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,GAAI,CAACD,EAAS,CACZ,QAAQ,MAAM,2BAA2B,EACzC,MACD,CAGD,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EAEDJ,EAAW,iBAAiB,SAAUK,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,YAAW,EAAG,OAE3DE,IAEArB,EAAYoB,CAAU,EACnB,KAAMlB,GAAa,CAClBoB,IACIpB,EAAS,KAAK,SAAW,EAC3BqB,EAAS,QAAQ,CACf,SAAU,SACV,YAAa,KACb,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,GACtB,CAAW,GAEDC,EAAmBtB,EAAS,IAAI,EAChCa,EAAS,QAAO,EAE1B,CAAO,EACA,MAAMU,GAAO,CACZF,EAAS,MAAM,CACb,SAAU,SACV,YAAa,KACb,kBAAmB,OACnB,MAAO,QACP,QAAS,yBAAyBE,EAAI,OAAO,GAC7C,gBAAiB,UACjB,aAAc,SACxB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbN,EAAK,MAAK,EACVO,GACR,CAAO,CACJ,CAED,SAASL,GAAa,CACpBP,EAAO,UAAU,IAAI,SAAS,CAC/B,CAED,SAASY,GAAa,CACpBZ,EAAO,UAAU,OAAO,SAAS,CAClC,CAED,SAASQ,GAAe,CACtBT,EAAQ,UAAY,EACrB,CAED,SAASW,EAAmBG,EAAQ,CAClC,MAAMC,EAASzB,EAAgBwB,CAAM,EACrCd,EAAQ,mBAAmB,aAAce,CAAM,CAChD,CAGH,CAAC"}